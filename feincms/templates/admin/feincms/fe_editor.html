{% extends "admin/change_form.html" %}
{% load feincms_compat_tags i18n admin_modify adminmedia %}


{% block extrahead %}{{ block.super }}
<script type="text/javascript" charset="utf-8"> 
    // jQuery conflict management technique inspired from django-debug-toolbar:
    // When jQuery is sourced, it's going to overwrite whatever might be in the
    // '$' variable, so store a reference of it in a temporary variable...
    var _$ = window.$;
</script>
{% if FEINCMS_ADMIN_MEDIA_HOTLINKING %}
<script type="text/javascript" charset="utf-8">
    if (typeof jQuery == 'undefined' || jQuery.fn.jquery != "1.3.2") {
        var jquery_url = '{{ MEDIA_URL }}http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js';
        document.write(unescape('%3Cscript src="' + jquery_url + '" type="text/javascript"%3E%3C/script%3E'));
    }
</script>
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.7.2/jquery-ui.min.js"></script>
<link type="text/css" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.7.2/themes/base/ui.all.css" rel="stylesheet" />
{% else %}
<script type="text/javascript" charset="utf-8">
    if (typeof jQuery == 'undefined' || jQuery.fn.jquery != "1.3.2") {
        var jquery_url = '{{ FEINCMS_ADMIN_MEDIA }}jquery-1.3.2.min.js';
        document.write(unescape('%3Cscript src="' + jquery_url + '" type="text/javascript"%3E%3C/script%3E'));
    }
</script>
<script type="text/javascript" src="{{ FEINCMS_ADMIN_MEDIA }}ui/jqueryui-custom-1.7.2.min.js"></script>
<link rel="stylesheet" type="text/css" href="{{ FEINCMS_ADMIN_MEDIA }}ui/jqueryui-custom-1.7.2.css" />
{% endif %}

<script type="text/javascript" src="{{ FEINCMS_ADMIN_MEDIA }}jquery.alerts.js"></script>
<script type="text/javascript" src="{{ FEINCMS_ADMIN_MEDIA }}item_editor.js"></script>
       
{% include "admin/feincms/_messages_js.html" %}
{% include "admin/feincms/_regions_js.html" %}

{% for inc in object.feincms_item_editor_includes.head %}{% include inc %}{% endfor %}

<script type="text/javascript" charset="utf-8"> 
    // Now that jQuery is done loading, put the '$' variable back to what it was...
    var $ = _$;
</script>        
{% endblock %}

{% block content %}
<div class="content_main" id="frontend_editor">

<form method="post" action=".">
{% csrf_token %}
<div>
{% if is_popup %}<input type="hidden" name="_popup" value="1" />{% endif %}

    <table>
        {{ form }}
    </table>

    <div class="submit-row" >
        <input type="submit" value="{% trans "Save" %}" class="default" name="_save" />
    </div>

</div>
</form>

</div>
{% endblock %}
